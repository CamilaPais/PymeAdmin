Notas
-----

Entradas/Inflow
			InflowItem
			Peso:float
			Pago (efvo/tarjeta)

Salidas/Outflow
			Compras a proveedor
			Pago de deuda
			Fiado
			Estado de cuenta x proveedor

Product
	name:string
	price:float
	promotion_price:float


Notificaciones
				Pedidos
				Bajo stock x proveedor (genera lista de compras)
				Desactivables

Estadísticas
			  Caja
			  Balance
			  Venta por item (en kg y en $)

Temas a hablar con Sandra:
	Conversor cajones --> mala idea (huecos en stock o sobras), el tiempo perdido ingresando exacto es preferible dado todo lo demás que soluciona
	Ingreso de peso de item: decimales automáticos son un terrible dolor de cabeza. El error sería obvio, es mucho problema? Opción: no ver el subtotal en tiempo real.


Tasks:
DONE |	Associations
		associating Inflow and Product IDs to PI model

rails generate migration AddReferenceIdsToInflowItem

class AddReferenceIdsToInflowItem < ActiveRecord::Migration
  def change
  	add_reference :inflow_items, :product
  	add_reference :inflow_items, :inflow
  end
end

DONE |	Add new Product attributes
		delete product attribute "quantity"
		add float:"promotion_price"
		add string:"quantity_type"  kgs - u

rails generate migration RemoveQuantityFromProducts quantity:float

class RemoveQuantityfromProducts < ActiveRecord::Migration[5.0]
  def up
    remove_column :products, :quantity
  end

  def down
    add_column :products, :quantity, :float
  end
 end

rails generate migration AddAttributesToProducts unit:string promotion_price:float

class AddAttributesToProducts < ActiveRecord::Migration
  def change
    add_column :products, :unit, :string
    add_column :products, :promotion_price, :float
  end
end

DONE |	Generate Supplier model (has_many :outflows)
DONE |	Scaffold Outflow (belongs_to :supplier)

rails generate migration AddReferenceIdsToOutflow

class AddReferenceIdsToOutflow < ActiveRecord::Migration[5.0]
  def change
  	add_reference :outflow, :supplier
  end
end

DONE |	Agregar cash boolean a Inflow

rails generate migration AddCashToInflows cash:boolean

class AddAttributesToProducts < ActiveRecord::Migration
  def change
    add_column :inflows, :cash, :boolean
  end
end


DONE |	Validations:
			Inflow: 	total > 0, cash boolean,
			Outflow: 	amount > 0, cash boolean, supplier
			InflowItem: Quantity > 0, product ID, inflow ID
			Product: 	name, price > 0, promotion_price > 0,
			Supplier: 	name

DONE |	Create an OutflowItem model, associated with Outflow and Product.

rails generate model OutflowItem quantity:float outflow:references product:references

DONE |	Add stock column in Product model

rails generate migration AddStockToProduct stock:float

add_column :products, :stock, :float

TO DO|
		Crear 3 elementos por modelo para usar de ejemplo
		Producto + quantity => inflow
		Creación de Inflow con respectivos II y Outflow con OI
			Select con autocomplete, javascript
		Limitar index a últimas n entradas para evitar carga lenta, dar opción a cargar de a n cantidad por vez
			index method within controller, Project.all  -x-> custom query
		Actualización de VISTAS Supplier account_balance en creación de Outflow entry
		i18n
		remove sprockets


@outflow.save
	@outflow.supplier
		balance = @supplier.balance + @outflow.amount
		@supplier.update_attribute(:balance => balance)
end

Probably going to need this vocabulary:
cash
credit
debt
expenses
income
cashflow		inflow
				outflow
profit
revenue
petty cash (caja chica)
commodities
compensation
deficit
discount
sale price
due date
rent
services
tax
expenditure
forecasting / projection
gross income
gross margin
gross sales
net sales
product half-life
inventory / stock
merchandise
salary
margin of profit
net income
net proceeds
net sales
net worth
premium
vendor
supplier
wage